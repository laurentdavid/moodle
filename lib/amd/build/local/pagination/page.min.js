define("core/local/pagination/page",["exports","core/reactive","./paged_content_reactive","core/templates","./reactive_events"],(function(_exports,_reactive,_paged_content_reactive,_templates,_reactive_events){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Page component.
   *
   * @module     core/local/pagination/pages
   * @copyright  2023 Laurent David <laurent.david@moodle.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_templates=_interopRequireDefault(_templates),_reactive_events=_interopRequireDefault(_reactive_events);class _default extends _reactive.BaseComponent{create(){this.name="paged-content",this.selectors={PAGE_CONTENT_SELECTOR:"[data-region='page-content']"},this.id=this.getElement().id,this.pageNumber=parseInt(this.getElement().dataset.page)}static init(element,selectors){return new this({element:element,reactive:(0,_paged_content_reactive.getPagedContentReactive)(element.dataset.reactiveId),selectors:selectors})}getWatchers(){return[{watch:"pages[".concat(this.pageNumber,"]:updated"),handler:this._renderPage}]}async stateReady(){this.reactive.dispatch(_reactive_events.default.pageLoadsContent,this.pageNumber)}async _renderPage(_ref){let{element:element}=_ref,pageContent=element.content;""===pageContent&&(pageContent=await _templates.default.render("core/loading",{}));const currentElement=this.getElement('[data-page="'.concat(element.pageNumber,'"] ')+this.selectors.PAGE_CONTENT_SELECTOR);currentElement.innerHTML=pageContent,element.active?currentElement.classList.remove("d-none"):currentElement.classList.add("d-none")}}return _exports.default=_default,_exports.default}));

//# sourceMappingURL=page.min.js.map