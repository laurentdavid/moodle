define("mod_data/applypresets",["exports","core/templates","core/modal","core/str","core/notification"],(function(_exports,_templates,_modal,_str,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Javascript module for applying presets.
   *
   * @module     mod_data/applypresets
   * @copyright  2022 Laurent David <laurent.david@moodle.com>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.showApplyPresetsDialog=void 0,_templates=_interopRequireDefault(_templates),_modal=_interopRequireDefault(_modal),_notification=_interopRequireDefault(_notification);_exports.showApplyPresetsDialog=async _ref=>{let buttons,modalPromise,{mappingPageParams:mappingPageParams,applyPresetParams:applyPresetParams,presetLabel:presetLabel,fieldsToCreate:fieldsToCreate,fieldsToUpdate:fieldsToUpdate,fieldsToDelete:fieldsToDelete}=_ref,title="";title=presetLabel?await(0,_str.get_string)("mapping:dialogtitle:usepreset","mod_data",presetLabel):await(0,_str.get_string)("mapping:dialogtitle:import","mod_data");buttons=[{action:"#",formid:"cancelbtn",label:await(0,_str.get_string)("cancel","moodle"),onsubmit:function(event){return this.hide(),event.preventDefault(),!1}}],mappingPageParams&&buttons.push({...mappingPageParams}),applyPresetParams&&buttons.push({...applyPresetParams}),modalPromise=_templates.default.render("mod_data/fields_mapping_modal",{title:title,fieldstocreate:fieldsToCreate,fieldstoupdate:fieldsToUpdate,fieldstodelete:fieldsToDelete,buttons:buttons}),modalPromise.then((function(html){return new _modal.default(html)})).fail(_notification.default.exception).then((modal=>(modal.show(),buttons.forEach((buttonConfig=>{const buttonFormElement=modal.getAttachmentPoint()[0].querySelector("#"+buttonConfig.formid);void 0!==buttonConfig.onsubmit&&buttonFormElement.addEventListener("submit",buttonConfig.onsubmit.bind(modal))})),modal))).fail(_notification.default.exception)}}));

//# sourceMappingURL=applypresets.min.js.map